#!/usr/bin/env python3
"""
Initialize Categories v6 data
Creates category versions and populates categories for both permanent and temporary exchanges.
"""

import sys
import os
sys.path.append(os.path.dirname(os.path.dirname(os.path.abspath(__file__))))

from sqlalchemy.orm import sessionmaker
from backend.database import engine
from backend.models import CategoryVersion, CategoryV6, CategoryMapping, ExchangeType


def init_categories_v6():
    """Initialize v6 category system with data"""

    SessionLocal = sessionmaker(autocommit=False, autoflush=False, bind=engine)
    db = SessionLocal()

    try:
        # Create v6.0 version
        version = CategoryVersion(
            version="v6.0",
            is_active=True,
            description="Initial v6 category system with expanded temporary and permanent exchanges"
        )
        db.add(version)
        db.flush()  # Get version.id

        # TEMPORARY EXCHANGE CATEGORIES (—Å –≤–æ–∑–≤—Ä–∞—Ç–æ–º)
        temporary_categories = [
            # üöó –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç –∏ –º–æ–±–∏–ª—å–Ω–æ—Å—Ç—å
            {"slug": "bicycles", "name": "–í–µ–ª–æ—Å–∏–ø–µ–¥—ã, —Å–∞–º–æ–∫–∞—Ç—ã, –≥–∏—Ä–æ—Å–∫—É—Ç–µ—Ä—ã", "group": "üöó –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç –∏ –º–æ–±–∏–ª—å–Ω–æ—Å—Ç—å", "emoji": "üöó"},
            {"slug": "electric_transport", "name": "–≠–ª–µ–∫—Ç—Ä–æ—Å–∞–º–æ–∫–∞—Ç—ã, —ç–ª–µ–∫—Ç—Ä–æ–≤–µ–ª–æ—Å–∏–ø–µ–¥—ã", "group": "üöó –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç –∏ –º–æ–±–∏–ª—å–Ω–æ—Å—Ç—å", "emoji": "üöó"},
            {"slug": "carsharing", "name": "–ö–∞—Ä—à–µ—Ä–∏–Ω–≥, –∞—Ä–µ–Ω–¥–∞ –ø—Ä–∏—Ü–µ–ø–æ–≤, —Å–ø–µ—Ü—Ç–µ—Ö–Ω–∏–∫–∏", "group": "üöó –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç –∏ –º–æ–±–∏–ª—å–Ω–æ—Å—Ç—å", "emoji": "üöó"},

            # üîß –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ
            {"slug": "hand_tools", "name": "–†—É—á–Ω—ã–µ –∏ —ç–ª–µ–∫—Ç—Ä–æ–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã", "group": "üîß –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ", "emoji": "üîß"},
            {"slug": "printers_equipment", "name": "3D-–ø—Ä–∏–Ω—Ç–µ—Ä—ã, —Å—Ç–∞–Ω–∫–∏, –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–æ–µ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ", "group": "üîß –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ", "emoji": "üîß"},
            {"slug": "construction_tools", "name": "–û—Å–Ω–∞—â–µ–Ω–∏–µ –¥–ª—è —Å—Ç—Ä–æ–π–∫–∏, —Ä–µ–º–æ–Ω—Ç–∞, –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π", "group": "üîß –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ", "emoji": "üîß"},

            # üì∑ –§–æ—Ç–æ-, –≤–∏–¥–µ–æ-, –∞—É–¥–∏–æ-—Ç–µ—Ö–Ω–∏–∫–∞
            {"slug": "photo_equipment", "name": "–§–æ—Ç–æ–∞–ø–ø–∞—Ä–∞—Ç—ã, –æ–±—ä–µ–∫—Ç–∏–≤—ã, –¥—Ä–æ–Ω—ã", "group": "üì∑ –§–æ—Ç–æ-, –≤–∏–¥–µ–æ-, –∞—É–¥–∏–æ-—Ç–µ—Ö–Ω–∏–∫–∞", "emoji": "üì∑"},
            {"slug": "video_audio", "name": "–°–≤–µ—Ç, –∑–≤—É–∫, –º–∏–∫—Ä–æ—Ñ–æ–Ω—ã, —Ä–µ–∫–æ—Ä–¥–µ—Ä—ã", "group": "üì∑ –§–æ—Ç–æ-, –≤–∏–¥–µ–æ-, –∞—É–¥–∏–æ-—Ç–µ—Ö–Ω–∏–∫–∞", "emoji": "üì∑"},
            {"slug": "production_kits", "name": "–ö–æ–º–ø–ª–µ–∫—Ç—ã –¥–ª—è —Å—ä—ë–º–æ–∫, —Ç—Ä–∞–Ω—Å–ª—è—Ü–∏–π, –ø–æ–¥–∫–∞—Å—Ç–æ–≤", "group": "üì∑ –§–æ—Ç–æ-, –≤–∏–¥–µ–æ-, –∞—É–¥–∏–æ-—Ç–µ—Ö–Ω–∏–∫–∞", "emoji": "üì∑"},

            # üíª –¶–∏—Ñ—Ä–æ–≤—ã–µ –∏ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
            {"slug": "cloud_resources", "name": "–û–±–ª–∞—á–Ω—ã–µ GPU/CPU, —Ö–æ—Å—Ç–∏–Ω–≥, storage", "group": "üíª –¶–∏—Ñ—Ä–æ–≤—ã–µ –∏ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã", "emoji": "üíª"},
            {"slug": "api_access", "name": "–í—Ä–µ–º–µ–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ API, ML-–º–æ–¥–µ–ª—è–º, –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º", "group": "üíª –¶–∏—Ñ—Ä–æ–≤—ã–µ –∏ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã", "emoji": "üíª"},
            {"slug": "software_licenses", "name": "–ü–æ–¥–ø–∏—Å–∫–∏, –ª–∏—Ü–µ–Ω–∑–∏–∏, —Ç–æ–∫–µ–Ω—ã —Å –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–º —Å—Ä–æ–∫–æ–º", "group": "üíª –¶–∏—Ñ—Ä–æ–≤—ã–µ –∏ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã", "emoji": "üíª"},
            {"slug": "network_resources", "name": "–°–µ—Ç–µ–≤—ã–µ –∏–ª–∏ —ç–Ω–µ—Ä–≥–µ—Ç–∏—á–µ—Å–∫–∏–µ –º–æ—â–Ω–æ—Å—Ç–∏, –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–∫–∞–Ω–∞–ª—ã", "group": "üíª –¶–∏—Ñ—Ä–æ–≤—ã–µ –∏ –≤—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã", "emoji": "üíª"},

            # üí∏ –§–∏–Ω–∞–Ω—Å—ã –∏ –≤–∑–∞–∏–º–Ω—ã–µ –∑–∞–π–º—ã
            {"slug": "money_crypto", "name": "–î–µ–Ω—å–≥–∏, –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞, —Ç–æ–∫–µ–Ω—ã ‚Äî —Å –≤–æ–∑–≤—Ä–∞—Ç–æ–º –≤ —Ç–æ–º –∂–µ –æ–±—ä—ë–º–µ", "group": "üí∏ –§–∏–Ω–∞–Ω—Å—ã –∏ –≤–∑–∞–∏–º–Ω—ã–µ –∑–∞–π–º—ã", "emoji": "üí∏"},
            {"slug": "trusted_equivalent", "name": "–ò—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –∫–∞–∫ –¥–æ–≤–µ—Ä–µ–Ω–Ω—ã–π —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç —Ä–µ—Å—É—Ä—Å–∞", "group": "üí∏ –§–∏–Ω–∞–Ω—Å—ã –∏ –≤–∑–∞–∏–º–Ω—ã–µ –∑–∞–π–º—ã", "emoji": "üí∏"},

            # üë• –£—Å–ª—É–≥–∏ –∏ –Ω–∞–≤—ã–∫–∏
            {"slug": "tutoring", "name": "–†–µ–ø–µ—Ç–∏—Ç–æ—Ä—Å—Ç–≤–æ, –∫–æ–Ω—Å—É–ª—å—Ç–∞—Ü–∏–∏, –º–µ–Ω—Ç–æ—Ä—Å—Ç–≤–æ", "group": "üë• –£—Å–ª—É–≥–∏ –∏ –Ω–∞–≤—ã–∫–∏", "emoji": "üë•"},
            {"slug": "task_execution", "name": "–ò—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –∑–∞–¥–∞—á, –ø–æ–º–æ—â—å, —É—á–∞—Å—Ç–∏–µ –≤ –ø—Ä–æ–µ–∫—Ç–∞—Ö", "group": "üë• –£—Å–ª—É–≥–∏ –∏ –Ω–∞–≤—ã–∫–∏", "emoji": "üë•"},
            {"slug": "time_resource", "name": "–í—Ä–µ–º—è —á–µ–ª–æ–≤–µ–∫–∞ –∫–∞–∫ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω—ã–π —Ä–µ—Å—É—Ä—Å", "group": "üë• –£—Å–ª—É–≥–∏ –∏ –Ω–∞–≤—ã–∫–∏", "emoji": "üë•"},

            # üè† –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏ –ø–æ–º–µ—â–µ–Ω–∏—è
            {"slug": "housing_rental", "name": "–ê—Ä–µ–Ω–¥–∞ –∂–∏–ª—å—è, –æ—Ñ–∏—Å–æ–≤, —Å–∫–ª–∞–¥–æ–≤", "group": "üè† –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏ –ø–æ–º–µ—â–µ–Ω–∏—è", "emoji": "üè†"},
            {"slug": "coworking_spaces", "name": "–ö–æ–≤–æ—Ä–∫–∏–Ω–≥–∏, —Å—Ç—É–¥–∏–∏, –ø–ª–æ—â–∞–¥–∫–∏ –¥–ª—è –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π", "group": "üè† –ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏ –ø–æ–º–µ—â–µ–Ω–∏—è", "emoji": "üè†"},

            # üêæ –£—Ö–æ–¥ –∑–∞ –∂–∏–≤—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏
            {"slug": "pet_sitting", "name": "–ü–µ—Ä–µ–¥–µ—Ä–∂–∫–∞ –ø–∏—Ç–æ–º—Ü–µ–≤, –ø–æ–ª–∏–≤ —Ä–∞—Å—Ç–µ–Ω–∏–π", "group": "üêæ –£—Ö–æ–¥ –∑–∞ –∂–∏–≤—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏", "emoji": "üêæ"},
            {"slug": "temporary_care", "name": "–í—Ä–µ–º–µ–Ω–Ω—ã–π —É—Ö–æ–¥", "group": "üêæ –£—Ö–æ–¥ –∑–∞ –∂–∏–≤—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏", "emoji": "üêæ"},

            # üéØ –°–ø–æ—Ä—Ç, –æ—Ç–¥—ã—Ö –∏ –¥–æ—Å—É–≥
            {"slug": "sports_equipment", "name": "–°–ø–æ—Ä—Ç–∏–≤–Ω—ã–π –∏–Ω–≤–µ–Ω—Ç–∞—Ä—å, –ø–∞–ª–∞—Ç–∫–∏, –∫–µ–º–ø–∏–Ω–≥", "group": "üéØ –°–ø–æ—Ä—Ç, –æ—Ç–¥—ã—Ö –∏ –¥–æ—Å—É–≥", "emoji": "üéØ"},
            {"slug": "board_games", "name": "–ù–∞—Å—Ç–æ–ª—å–Ω—ã–µ –∏–≥—Ä—ã, VR, –º—É–∑—ã–∫–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã", "group": "üéØ –°–ø–æ—Ä—Ç, –æ—Ç–¥—ã—Ö –∏ –¥–æ—Å—É–≥", "emoji": "üéØ"},
            {"slug": "props_rental", "name": "–ü—Ä–æ–∫–∞—Ç —Ä–µ–∫–≤–∏–∑–∏—Ç–∞, –∫–æ—Å—Ç—é–º–æ–≤, —Å—Ü–µ–Ω–∏—á–µ—Å–∫–∏—Ö –∞–∫—Å–µ—Å—Å—É–∞—Ä–æ–≤", "group": "üéØ –°–ø–æ—Ä—Ç, –æ—Ç–¥—ã—Ö –∏ –¥–æ—Å—É–≥", "emoji": "üéØ"},
        ]

        # PERMANENT EXCHANGE CATEGORIES (–±–µ–∑ –≤–æ–∑–≤—Ä–∞—Ç–∞)
        permanent_categories = [
            # üöó –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç –∏ —Ç–µ—Ö–Ω–∏–∫–∞
            {"slug": "personal_transport", "name": "–õ–∏—á–Ω—ã–µ –∏ —Å–ø–µ—Ü—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–Ω—ã–µ —Å—Ä–µ–¥—Å—Ç–≤–∞", "group": "üöó –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç –∏ —Ç–µ—Ö–Ω–∏–∫–∞", "emoji": "üöó"},
            {"slug": "electric_vehicles", "name": "–≠–ª–µ–∫—Ç—Ä–æ—Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç, –¥—Ä–æ–Ω—ã, —Ç–µ—Ö–Ω–∏–∫–∞ –¥–ª—è —Ö–æ–±–±–∏", "group": "üöó –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç –∏ —Ç–µ—Ö–Ω–∏–∫–∞", "emoji": "üöó"},
            {"slug": "parts_consumables", "name": "–ó–∞–ø—á–∞—Å—Ç–∏, –∫–æ–º–ø–ª–µ–∫—Ç—É—é—â–∏–µ, —Ä–∞—Å—Ö–æ–¥–Ω–∏–∫–∏", "group": "üöó –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç –∏ —Ç–µ—Ö–Ω–∏–∫–∞", "emoji": "üöó"},

            # üîß –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ
            {"slug": "hand_power_tools", "name": "–†—É—á–Ω—ã–µ, —ç–ª–µ–∫—Ç—Ä–æ-, —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ, –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã", "group": "üîß –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ", "emoji": "üîß"},
            {"slug": "production_facilities", "name": "–ü—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏ —Ä–µ–º–µ—Å–ª–µ–Ω–Ω—ã–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏", "group": "üîß –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ", "emoji": "üîß"},
            {"slug": "building_materials", "name": "–°—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –∏ —ç–ª–µ–º–µ–Ω—Ç—ã (–¥–≤–µ—Ä–∏, –æ–∫–Ω–∞, –ø–∞–Ω–µ–ª–∏, –∫—Ä–µ–ø—ë–∂)", "group": "üîß –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏ –æ–±–æ—Ä—É–¥–æ–≤–∞–Ω–∏–µ", "emoji": "üîß"},

            # üì∑ –§–æ—Ç–æ-, –≤–∏–¥–µ–æ-, –∞—É–¥–∏–æ-—Ç–µ—Ö–Ω–∏–∫–∞
            {"slug": "photo_equipment", "name": "–§–æ—Ç–æ–∞–ø–ø–∞—Ä–∞—Ç—ã, –æ–ø—Ç–∏–∫–∞, –º–∏–∫—Ä–æ—Ñ–æ–Ω—ã", "group": "üì∑ –§–æ—Ç–æ-, –≤–∏–¥–µ–æ-, –∞—É–¥–∏–æ-—Ç–µ—Ö–Ω–∏–∫–∞", "emoji": "üì∑"},
            {"slug": "lighting_equipment", "name": "–û—Å–≤–µ—Ç–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–∏–±–æ—Ä—ã, –∑–≤—É–∫–æ–∑–∞–ø–∏—Å—ã–≤–∞—é—â–∞—è —Ç–µ—Ö–Ω–∏–∫–∞", "group": "üì∑ –§–æ—Ç–æ-, –≤–∏–¥–µ–æ-, –∞—É–¥–∏–æ-—Ç–µ—Ö–Ω–∏–∫–∞", "emoji": "üì∑"},

            # üíæ –¶–∏—Ñ—Ä–æ–≤—ã–µ, –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–µ –∏ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–µ –∞–∫—Ç–∏–≤—ã
            {"slug": "software_programs", "name": "–ü—Ä–æ–≥—Ä–∞–º–º—ã, –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥, —à–∞–±–ª–æ–Ω—ã, –¥–∏–∑–∞–π–Ω", "group": "üíæ –¶–∏—Ñ—Ä–æ–≤—ã–µ, –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–µ –∏ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–µ –∞–∫—Ç–∏–≤—ã", "emoji": "üíæ"},
            {"slug": "media_content", "name": "–ú–µ–¥–∏–∞, –º—É–∑—ã–∫–∞, –≤–∏–¥–µ–æ, NFT, —Ü–∏—Ñ—Ä–æ–≤—ã–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏", "group": "üíæ –¶–∏—Ñ—Ä–æ–≤—ã–µ, –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–µ –∏ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–µ –∞–∫—Ç–∏–≤—ã", "emoji": "üíæ"},
            {"slug": "intellectual_property", "name": "–ê–≤—Ç–æ—Ä—Å–∫–∏–µ –ø—Ä–∞–≤–∞, –±–µ—Å—Å—Ä–æ—á–Ω—ã–µ –ª–∏—Ü–µ–Ω–∑–∏–∏", "group": "üíæ –¶–∏—Ñ—Ä–æ–≤—ã–µ, –∫—Ä–µ–∞—Ç–∏–≤–Ω—ã–µ –∏ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–µ –∞–∫—Ç–∏–≤—ã", "emoji": "üíæ"},

            # üë• –£—Å–ª—É–≥–∏ –∏ –Ω–∞–≤—ã–∫–∏
            {"slug": "completed_projects", "name": "–ó–∞–≤–µ—Ä—à—ë–Ω–Ω—ã–µ –ø—Ä–æ–µ–∫—Ç—ã, –∫–æ–Ω—Ç–µ–Ω—Ç, –¥–∏–∑–∞–π–Ω, —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞", "group": "üë• –£—Å–ª—É–≥–∏ –∏ –Ω–∞–≤—ã–∫–∏", "emoji": "üë•"},
            {"slug": "services_work", "name": "–†–µ–º–æ–Ω—Ç, –º–æ–Ω—Ç–∞–∂, –æ–±—É—á–µ–Ω–∏–µ ‚Äî —Å –ø–µ—Ä–µ–¥–∞—á–µ–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞", "group": "üë• –£—Å–ª—É–≥–∏ –∏ –Ω–∞–≤—ã–∫–∏", "emoji": "üë•"},

            # üè† –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –∏ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ
            {"slug": "property", "name": "–ó–µ–º–ª—è, –¥–æ–º–∞, –∫–≤–∞—Ä—Ç–∏—Ä—ã, —Å—Ç—É–¥–∏–∏, –≥–∞—Ä–∞–∂–∏", "group": "üè† –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –∏ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ", "emoji": "üè†"},
            {"slug": "property_rights", "name": "–ü—Ä–∞–≤–æ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ –∏–ª–∏ –¥–æ–ª—è", "group": "üè† –ù–µ–¥–≤–∏–∂–∏–º–æ—Å—Ç—å –∏ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–æ", "emoji": "üè†"},

            # ü™¥ –î–æ–º, —Å–∞–¥ –∏ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ
            {"slug": "garden_equipment", "name": "–°–∞–¥–æ–≤–∞—è —Ç–µ—Ö–Ω–∏–∫–∞, –ø–æ–ª–∏–≤, –º–µ–±–µ–ª—å –¥–ª—è —Å–∞–¥–∞", "group": "ü™¥ –î–æ–º, —Å–∞–¥ –∏ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ", "emoji": "ü™¥"},
            {"slug": "decor_elements", "name": "–î–µ–∫–æ—Ä, –æ–≥—Ä–∞–∂–¥–µ–Ω–∏—è, —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã", "group": "ü™¥ –î–æ–º, —Å–∞–¥ –∏ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–æ", "emoji": "ü™¥"},

            # üõãÔ∏è –ë—ã—Ç, –º–µ–±–µ–ª—å –∏ –∏–Ω—Ç–µ—Ä—å–µ—Ä
            {"slug": "furniture_appliances", "name": "–ú–µ–±–µ–ª—å, –±—ã—Ç–æ–≤–∞—è —Ç–µ—Ö–Ω–∏–∫–∞, –æ—Å–≤–µ—â–µ–Ω–∏–µ", "group": "üõãÔ∏è –ë—ã—Ç, –º–µ–±–µ–ª—å –∏ –∏–Ω—Ç–µ—Ä—å–µ—Ä", "emoji": "üõãÔ∏è"},
            {"slug": "decor_textiles", "name": "–î–µ–∫–æ—Ä, —Ç–µ–∫—Å—Ç–∏–ª—å, –∫–æ–≤—Ä—ã, –∑–µ—Ä–∫–∞–ª–∞", "group": "üõãÔ∏è –ë—ã—Ç, –º–µ–±–µ–ª—å –∏ –∏–Ω—Ç–µ—Ä—å–µ—Ä", "emoji": "üõãÔ∏è"},

            # üëï –û–¥–µ–∂–¥–∞, –º–æ–¥–∞ –∏ –ª–∏—á–Ω—ã–µ –≤–µ—â–∏
            {"slug": "clothing_footwear", "name": "–û–¥–µ–∂–¥–∞, –æ–±—É–≤—å, –∞–∫—Å–µ—Å—Å—É–∞—Ä—ã, —É–∫—Ä–∞—à–µ–Ω–∏—è", "group": "üëï –û–¥–µ–∂–¥–∞, –º–æ–¥–∞ –∏ –ª–∏—á–Ω—ã–µ –≤–µ—â–∏", "emoji": "üëï"},
            {"slug": "vintage_luxury", "name": "–í–∏–Ω—Ç–∞–∂, –º–æ–¥–∞ premium, –∫–æ–ª–ª–µ–∫—Ü–∏–æ–Ω–Ω—ã–µ –≤–µ—â–∏", "group": "üëï –û–¥–µ–∂–¥–∞, –º–æ–¥–∞ –∏ –ª–∏—á–Ω—ã–µ –≤–µ—â–∏", "emoji": "üëï"},

            # üéÆ –•–æ–±–±–∏, –∏–≥—Ä—ã –∏ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
            {"slug": "games_collectibles", "name": "–ù–∞—Å—Ç–æ–ª—å–Ω—ã–µ –∏–≥—Ä—ã, —Ñ–∏–≥—É—Ä–∫–∏, –∫–æ–º–∏–∫—Å—ã, –∫–∞—Ä—Ç–æ—á–∫–∏", "group": "üéÆ –•–æ–±–±–∏, –∏–≥—Ä—ã –∏ –∫–æ–ª–ª–µ–∫—Ü–∏–∏", "emoji": "üéÆ"},
            {"slug": "models_merch", "name": "–ú–æ–¥–µ–ª–∏, –∏–≥—Ä—É—à–∫–∏, —Ñ–∞–Ω-–º–µ—Ä—á, –ø–æ–¥–ø–∏—Å–Ω—ã–µ –Ω–∞–±–æ—Ä—ã", "group": "üéÆ –•–æ–±–±–∏, –∏–≥—Ä—ã –∏ –∫–æ–ª–ª–µ–∫—Ü–∏–∏", "emoji": "üéÆ"},

            # üìö –ö–Ω–∏–≥–∏, –º—É–∑—ã–∫–∞ –∏ –º–µ–¥–∏–∞
            {"slug": "physical_media", "name": "–ö–Ω–∏–≥–∏, –∂—É—Ä–Ω–∞–ª—ã, –Ω–æ—Ç—ã, –≤–∏–Ω–∏–ª, CD, DVD", "group": "üìö –ö–Ω–∏–≥–∏, –º—É–∑—ã–∫–∞ –∏ –º–µ–¥–∏–∞", "emoji": "üìö"},
            {"slug": "antiques_rare", "name": "–ê–Ω—Ç–∏–∫–≤–∞—Ä–Ω—ã–µ –∏ —Ä–µ–¥–∫–∏–µ –∏–∑–¥–∞–Ω–∏—è", "group": "üìö –ö–Ω–∏–≥–∏, –º—É–∑—ã–∫–∞ –∏ –º–µ–¥–∏–∞", "emoji": "üìö"},

            # üß¥ –ó–¥–æ—Ä–æ–≤—å–µ, –∫—Ä–∞—Å–æ—Ç–∞ –∏ —É—Ö–æ–¥
            {"slug": "beauty_cosmetics", "name": "–ö–æ—Å–º–µ—Ç–∏–∫–∞, –ø–∞—Ä—Ñ—é–º–µ—Ä–∏—è, —É—Ö–æ–¥–æ–≤—ã–µ –≥–∞–¥–∂–µ—Ç—ã", "group": "üß¥ –ó–¥–æ—Ä–æ–≤—å–µ, –∫—Ä–∞—Å–æ—Ç–∞ –∏ —É—Ö–æ–¥", "emoji": "üß¥"},
            {"slug": "health_devices", "name": "–ê–ø–ø–∞—Ä–∞—Ç—ã –¥–ª—è –∑–¥–æ—Ä–æ–≤—å—è, wellness-—Ç–µ—Ö–Ω–∏–∫–∞", "group": "üß¥ –ó–¥–æ—Ä–æ–≤—å–µ, –∫—Ä–∞—Å–æ—Ç–∞ –∏ —É—Ö–æ–¥", "emoji": "üß¥"},

            # üå± –ñ–∏–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã –∏ –ø—Ä–∏—Ä–æ–¥–∞
            {"slug": "plants_animals", "name": "–†–∞—Å—Ç–µ–Ω–∏—è, —Å–µ–º–µ–Ω–∞, –ø–∏—Ç–æ–º—Ü—ã, –∞–∫–≤–∞—Ä–∏—É–º–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã", "group": "üå± –ñ–∏–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã –∏ –ø—Ä–∏—Ä–æ–¥–∞", "emoji": "üå±"},
            {"slug": "breeding_care", "name": "–†–∞–∑–≤–µ–¥–µ–Ω–∏–µ –∏ —É—Ö–æ–¥", "group": "üå± –ñ–∏–≤—ã–µ –æ–±—ä–µ–∫—Ç—ã –∏ –ø—Ä–∏—Ä–æ–¥–∞", "emoji": "üå±"},

            # üçé –ü—Ä–æ–¥—É–∫—Ç—ã –∏ —Å–µ–ª—å—Ö–æ–∑—Ç–æ–≤–∞—Ä—ã
            {"slug": "farm_products", "name": "–§–µ—Ä–º–µ—Ä—Å–∫–∞—è –ø—Ä–æ–¥—É–∫—Ü–∏—è, –∑–∞–≥–æ—Ç–æ–≤–∫–∏, –º–µ–¥, –∑–µ—Ä–Ω–æ, —Å–µ–º–µ–Ω–∞", "group": "üçé –ü—Ä–æ–¥—É–∫—Ç—ã –∏ —Å–µ–ª—å—Ö–æ–∑—Ç–æ–≤–∞—Ä—ã", "emoji": "üçé"},
            {"slug": "natural_resources", "name": "–û–±–º–µ–Ω –Ω–∞—Ç—É—Ä–∞–ª—å–Ω—ã–º–∏ –ø—Ä–æ–¥—É–∫—Ç–∞–º–∏ –∏ —Ä–µ—Å—É—Ä—Å–∞–º–∏", "group": "üçé –ü—Ä–æ–¥—É–∫—Ç—ã –∏ —Å–µ–ª—å—Ö–æ–∑—Ç–æ–≤–∞—Ä—ã", "emoji": "üçé"},

            # üìö –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã –∏ –∑–Ω–∞–Ω–∏—è
            {"slug": "courses_materials", "name": "–ö—É—Ä—Å—ã, –º–µ—Ç–æ–¥–∏–∫–∏, —É—á–µ–±–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã, –∫–Ω–∏–≥–∏", "group": "üìö –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã –∏ –∑–Ω–∞–Ω–∏—è", "emoji": "üìö"},
            {"slug": "intellectual_constructions", "name": "–ê–≤—Ç–æ—Ä—Å–∫–∏–µ –Ω–∞—Ä–∞–±–æ—Ç–∫–∏, –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏", "group": "üìö –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã –∏ –∑–Ω–∞–Ω–∏—è", "emoji": "üìö"},

            # ‚öñÔ∏è –§–∏–Ω–∞–Ω—Å—ã –∏ —Ü–µ–Ω–Ω—ã–µ –∞–∫—Ç–∏–≤—ã
            {"slug": "money_crypto", "name": "–î–µ–Ω—å–≥–∏, –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∞, —Ç–æ–∫–µ–Ω—ã", "group": "‚öñÔ∏è –§–∏–Ω–∞–Ω—Å—ã –∏ —Ü–µ–Ω–Ω—ã–µ –∞–∫—Ç–∏–≤—ã", "emoji": "‚öñÔ∏è"},
            {"slug": "securities_assets", "name": "–¶–µ–Ω–Ω—ã–µ –±—É–º–∞–≥–∏, –¥–æ–ª–∏, –∞–∫—Ç–∏–≤—ã", "group": "‚öñÔ∏è –§–∏–Ω–∞–Ω—Å—ã –∏ —Ü–µ–Ω–Ω—ã–µ –∞–∫—Ç–∏–≤—ã", "emoji": "‚öñÔ∏è"},
        ]

        # Create temporary categories
        sort_order = 0
        for cat_data in temporary_categories:
            category = CategoryV6(
                version_id=version.id,
                exchange_type=ExchangeType.TEMPORARY,
                slug=cat_data["slug"],
                name=cat_data["name"],
                group=cat_data["group"],
                emoji=cat_data["emoji"],
                sort_order=sort_order
            )
            db.add(category)
            sort_order += 1

        # Create permanent categories
        sort_order = 0
        for cat_data in permanent_categories:
            category = CategoryV6(
                version_id=version.id,
                exchange_type=ExchangeType.PERMANENT,
                slug=cat_data["slug"],
                name=cat_data["name"],
                group=cat_data["group"],
                emoji=cat_data["emoji"],
                sort_order=sort_order
            )
            db.add(category)
            sort_order += 1

        # Create legacy mappings for migration
        legacy_mappings = [
            # Permanent Exchange mappings
            ("electronics", "photo_equipment", ExchangeType.PERMANENT, 0.9),
            ("electronics", "lighting_equipment", ExchangeType.PERMANENT, 0.8),
            ("money", "money_crypto", ExchangeType.PERMANENT, 1.0),
            ("furniture", "furniture_appliances", ExchangeType.PERMANENT, 0.9),
            ("furniture", "decor_textiles", ExchangeType.PERMANENT, 0.7),
            ("transport", "personal_transport", ExchangeType.PERMANENT, 0.9),
            ("transport", "electric_vehicles", ExchangeType.PERMANENT, 0.8),
            ("services", "services_work", ExchangeType.PERMANENT, 0.9),
            ("services", "completed_projects", ExchangeType.PERMANENT, 0.8),

            # Temporary Exchange mappings (new categories, lower confidence as they're new)
            ("electronics", "photo_equipment", ExchangeType.TEMPORARY, 0.7),
            ("electronics", "video_audio", ExchangeType.TEMPORARY, 0.7),
            ("money", "money_crypto", ExchangeType.TEMPORARY, 0.8),
            ("money", "trusted_equivalent", ExchangeType.TEMPORARY, 0.6),
            ("furniture", "furniture_appliances", ExchangeType.TEMPORARY, 0.7),
            ("transport", "bicycles", ExchangeType.TEMPORARY, 0.8),
            ("transport", "electric_transport", ExchangeType.TEMPORARY, 0.9),
            ("services", "tutoring", ExchangeType.TEMPORARY, 0.8),
            ("services", "task_execution", ExchangeType.TEMPORARY, 0.8),
        ]

        for legacy, new_slug, exchange_type, confidence in legacy_mappings:
            mapping = CategoryMapping(
                legacy_category=legacy,
                new_category_slug=new_slug,
                exchange_type=exchange_type,
                confidence=confidence
            )
            db.add(mapping)

        db.commit()
        print("‚úÖ Categories v6 initialized successfully!")
        print(f"Created {len(temporary_categories)} temporary categories")
        print(f"Created {len(permanent_categories)} permanent categories")
        print(f"Created {len(legacy_mappings)} legacy mappings")

    except Exception as e:
        db.rollback()
        print(f"‚ùå Error initializing categories: {e}")
        raise
    finally:
        db.close()


if __name__ == "__main__":
    init_categories_v6()
