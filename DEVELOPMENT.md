# üöÄ FreeMarket Development Guide

**–î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–æ–≥–∏–∫–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞**

---

## üìã –õ–æ–≥–∏–∫–∞ —Å–∏—Å—Ç–µ–º—ã

### –ì–ª–∞–≤–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (—Ü–µ–ø–æ—á–∫–∞ –æ–ø–µ—Ä–∞—Ü–∏–π):

```
1. USER REGISTRATION
   ‚îú‚îÄ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è —Å Telegram –∫–æ–Ω—Ç–∞–∫—Ç–æ–º
   ‚îî‚îÄ –ë–î: —Å–æ–∑–¥–∞–Ω–∞ –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü–µ users

2. CREATE LISTING
   ‚îú‚îÄ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏–µ
   ‚îú‚îÄ –í—ã–±–∏—Ä–∞–µ—Ç: –î–ê–†–Æ (offers) –∏–ª–∏ –•–û–ß–£ (wants)
   ‚îú‚îÄ –ó–∞–ø–æ–ª–Ω—è–µ—Ç: –Ω–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ, –∫–∞—Ç–µ–≥–æ—Ä–∏—é, –º–µ—Å—Ç–æ
   ‚îî‚îÄ –ë–î: –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü–µ market_listings

3. MATCHING (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥–±–æ—Ä –ø–∞—Ä)
   ‚îú‚îÄ –°–∏—Å—Ç–µ–º–∞ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –æ–±—ä—è–≤–ª–µ–Ω–∏—è
   ‚îú‚îÄ –ò—â–µ—Ç –î–í–£–°–¢–û–†–û–ù–ù–ò–ï —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è:
   ‚îÇ  ‚îú‚îÄ want Alice —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å offer Bob
   ‚îÇ  ‚îú‚îÄ AND want Bob —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å offer Alice
   ‚îÇ  ‚îî‚îÄ –¢–æ–ª—å–∫–æ —Ç–∞–∫–∏–µ –ø–∞—Ä—ã —Å–æ–∑–¥–∞—é—Ç Match!
   ‚îú‚îÄ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç: –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –º–µ—Å—Ç–æ, –æ–ø–∏—Å–∞–Ω–∏–µ —Å–æ–≤–ø–∞–¥–∞—é—Ç?
   ‚îú‚îÄ –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç score (0.0-1.0)
   ‚îî‚îÄ –ë–î: —Å–æ–∑–¥–∞–µ—Ç—Å—è Match —Å –æ—Ü–µ–Ω–∫–æ–π —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è

4. NOTIFICATIONS (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è)
   ‚îú‚îÄ –û–±–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ–ª—É—á–∞—é—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
   ‚îú‚îÄ –°–æ–¥–µ—Ä–∂–∏—Ç: –∫–æ–Ω—Ç–∞–∫—Ç –ø–∞—Ä—Ç–Ω–µ—Ä–∞, –æ–ø–∏—Å–∞–Ω–∏–µ
   ‚îî‚îÄ –ë–î: –∑–∞–ø–∏—Å—å –≤ —Ç–∞–±–ª–∏—Ü–µ notifications

5. ACCEPTANCE (–ø—Ä–∏–Ω—è—Ç–∏–µ/–æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ)
   ‚îú‚îÄ Alice –ø—Ä–∏–Ω–∏–º–∞–µ—Ç ‚Üí Match.status = "accepted_a"
   ‚îú‚îÄ Bob –ø—Ä–∏–Ω–∏–º–∞–µ—Ç ‚Üí Match.status = "matched"
   ‚îî‚îÄ –û–±–∞ –º–æ–≥—É—Ç –æ—Å—Ç–∞–≤–∏—Ç—å —Ä–µ–π—Ç–∏–Ω–≥ –¥—Ä—É–≥ –¥—Ä—É–≥—É
```

---

## üõ†Ô∏è –ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:
- Python 3.10+
- PostgreSQL 12+ (–∏–ª–∏ SQLite –¥–ª—è —Ç–µ—Å—Ç–æ–≤)
- Node.js 18+ (–¥–ª—è Frontend, –æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### –®–∞–≥ 1: Backend - –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ (–ë–ï–ó –ë–î)

```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ —É—Ä–æ–≤–Ω–µ –∫–æ–¥–∞
cd FreeMarket
python backend/quick_test.py

# –†–µ–∑—É–ª—å—Ç–∞—Ç:
# ‚úÖ All structure tests passed!
# - Backend structure: ‚úÖ OK
# - API routes: ‚úÖ OK (10 total)
# - Modules: ‚úÖ OK
```

### –®–∞–≥ 2: Backend - –° PostgreSQL

```bash
# –£–±–µ–¥–∏—Ç—å—Å—è —á—Ç–æ PostgreSQL –∑–∞–ø—É—â–µ–Ω–∞:
psql -U postgres -c "SELECT version();"

# –ü–µ—Ä–µ–π—Ç–∏ –≤ backend
cd backend

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã)
pip install -r requirements.txt

# –ó–∞–ø—É—Å—Ç–∏—Ç—å API
python -m uvicorn main:app --reload --port 8000

# –†–µ–∑—É–ª—å—Ç–∞—Ç:
# INFO:     Uvicorn running on http://0.0.0.0:8000
# INFO:     Application startup complete
```

### –®–∞–≥ 3: Frontend (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

```bash
# –í –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
cd src
npm install
npm run dev

# –†–µ–∑—É–ª—å—Ç–∞—Ç:
# VITE v7.1.12 ready in 245 ms
# ‚ûú Local: http://localhost:5173/
```

### –®–∞–≥ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API (curl)

```bash
# 1Ô∏è‚É£ –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Alice
curl -X POST http://localhost:8000/users/ \
  -H "Content-Type: application/json" \
  -d '{"username": "alice", "contact": {"telegram": "@alice_kz"}}'

# 2Ô∏è‚É£ –°–æ–∑–¥–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –î–ê–†–Æ (–≤–µ–ª–æ—Å–∏–ø–µ–¥)
curl -X POST http://localhost:8000/api/market-listings/ \
  -H "Content-Type: application/json" \
  -d '{
    "type": "offers",
    "title": "–û—Ç–¥–∞—é –≤–µ–ª–æ—Å–∏–ø–µ–¥",
    "description": "–í —Ö–æ—Ä–æ—à–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–∏",
    "category_id": 1,
    "location": "–ê–ª–º–∞—Ç—ã",
    "contact": "@alice_kz",
    "user_id": 1
  }'

# 3Ô∏è‚É£ –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è Bob
curl -X POST http://localhost:8000/users/ \
  -H "Content-Type: application/json" \
  -d '{"username": "bob", "contact": {"telegram": "@bob_kz"}}'

# 4Ô∏è‚É£ –°–æ–∑–¥–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ –•–û–ß–£ (–≤–µ–ª–æ—Å–∏–ø–µ–¥)
curl -X POST http://localhost:8000/api/market-listings/ \
  -H "Content-Type: application/json" \
  -d '{
    "type": "wants",
    "title": "–ò—â—É –≤–µ–ª–æ—Å–∏–ø–µ–¥",
    "description": "–ò—â—É –≤–µ–ª–æ—Å–∏–ø–µ–¥",
    "category_id": 1,
    "location": "–ê–ª–º–∞—Ç—ã",
    "contact": "@bob_kz",
    "user_id": 2
  }'

# 5Ô∏è‚É£ –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –î–ê–†–Æ
curl http://localhost:8000/api/market-listings/offers/all

# 6Ô∏è‚É£ –ü–æ–ª—É—á–∏—Ç—å –≤—Å–µ –•–û–ß–£
curl http://localhost:8000/api/market-listings/wants/all

# 7Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–¥–æ—Ä–æ–≤—å–µ API
curl http://localhost:8000/health
```

---

## üîó API –ú–∞—Ä—à—Ä—É—Ç—ã (10 –≤—Å–µ–≥–æ)

### Users
```
POST   /users/                    # –°–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
GET    /users/{username}          # –ü–æ–ª—É—á–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
```

### Market Listings (–ì–ª–∞–≤–Ω—ã–µ)
```
POST   /api/market-listings/                # –°–æ–∑–¥–∞—Ç—å –æ–±—ä—è–≤–ª–µ–Ω–∏–µ
GET    /api/market-listings/offers/all      # –í—Å–µ –î–ê–†–Æ
GET    /api/market-listings/wants/all       # –í—Å–µ –•–û–ß–£
GET    /api/market-listings/{id}            # –ö–æ–Ω–∫—Ä–µ—Ç–Ω–æ–µ –æ–±—ä—è–≤–ª–µ–Ω–∏–µ
```

### Notifications
```
GET    /api/notifications?user_id=X         # –ü–æ–ª—É—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
```

### Health
```
GET    /health                              # –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
```

---

## üìä –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –î–∞–Ω–Ω—ã—Ö

### Users table
```sql
id (PK)
username (UNIQUE)
contact (JSON: {telegram: "@username"})
trust_score (float, default 0.0)
created_at (timestamp)
```

### Market_listings table
```sql
id (PK)
type (ENUM: offers, wants)
title (string)
description (text)
category_id (FK ‚Üí categories)
location (string)
contact (string)
user_id (FK ‚Üí users)
status (ENUM: active, archived)
created_at (timestamp)
```

### Matches table
```sql
id (PK)
item_a (FK ‚Üí market_listings)
item_b (FK ‚Üí market_listings)
score (float: 0.0-1.0)
status (ENUM: new, accepted_a, accepted_b, matched)
matched_at (timestamp)
created_at (timestamp)
```

### Notifications table
```sql
id (PK)
user_id (FK ‚Üí users)
payload (JSON: {type, from_user, contact, ...})
is_sent (boolean)
created_at (timestamp)
```

---

## üîó –ê–ª–≥–æ—Ä–∏—Ç–º –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–µ–≥–æ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è (Bidirectional Matching)

### –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:

**Match —Å–æ–∑–¥–∞–µ—Ç—Å—è –¢–û–õ–¨–ö–û –µ—Å–ª–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã –û–ë–ê —É—Å–ª–æ–≤–∏—è:**

```
Condition 1: Alice.want ‚äÜ Bob.offer  (Alice —Ö–æ—á–µ—Ç —á—Ç–æ –∏–º–µ–µ—Ç Bob)
Condition 2: Bob.want ‚äÜ Alice.offer  (Bob —Ö–æ—á–µ—Ç —á—Ç–æ –∏–º–µ–µ—Ç Alice)

–ï—Å–ª–∏ –æ–±–∞ —É—Å–ª–æ–≤–∏—è TRUE ‚Üí Match —Å–æ–∑–¥–∞–µ—Ç—Å—è
–ï—Å–ª–∏ –ª—é–±–æ–µ FALSE ‚Üí Match –ù–ï —Å–æ–∑–¥–∞–µ—Ç—Å—è
```

### –ü—Ä–∏–º–µ—Ä 1: ‚úÖ Match —Å–æ–∑–¥–∞–µ—Ç—Å—è

```
Alice:
  offer: –≤–µ–ª–æ—Å–∏–ø–µ–¥
  want: –∫–Ω–∏–≥–∞

Bob:
  offer: –∫–Ω–∏–≥–∞
  want: –≤–µ–ª–æ—Å–∏–ø–µ–¥

Check:
1. Alice.want (–∫–Ω–∏–≥–∞) ‚àà Bob.offer? –î–ê ‚úÖ
2. Bob.want (–≤–µ–ª–æ—Å–∏–ø–µ–¥) ‚àà Alice.offer? –î–ê ‚úÖ
Result: MATCH CREATED!
```

### –ü—Ä–∏–º–µ—Ä 2: ‚ùå Match –ù–ï —Å–æ–∑–¥–∞–µ—Ç—Å—è

```
Alice:
  offer: –≤–µ–ª–æ—Å–∏–ø–µ–¥
  want: –∫–Ω–∏–≥–∞

Bob:
  offer: –Ω–æ—É—Ç–±—É–∫ (–ù–ï –∫–Ω–∏–≥–∞!)
  want: –≤–µ–ª–æ—Å–∏–ø–µ–¥

Check:
1. Alice.want (–∫–Ω–∏–≥–∞) ‚àà Bob.offer? –ù–ï–¢ ‚ùå
2. Bob.want (–≤–µ–ª–æ—Å–∏–ø–µ–¥) ‚àà Alice.offer? –î–ê ‚úÖ
Result: NO MATCH (–ø–µ—Ä–≤–æ–µ —É—Å–ª–æ–≤–∏–µ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ)
```

### Score —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –∫–∞–∫:

```
score = base_score √ó category_match √ó location_match √ó text_similarity

–≥–¥–µ:
- base_score = 1.0 (–Ω–∞—á–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞)
- category_match = 1.0 –µ—Å–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Å–æ–≤–ø–∞–¥–∞—é—Ç, 0.8 –µ—Å–ª–∏ –±–ª–∏–∑–∫–∏
- location_match = 1.0 –µ—Å–ª–∏ –º–µ—Å—Ç–∞ —Å–æ–≤–ø–∞–¥–∞—é—Ç, 0.5-0.8 –µ—Å–ª–∏ —Ä—è–¥–æ–º
- text_similarity = –∫–æ—Å–∏–Ω—É—Å–Ω–æ–µ —Å—Ö–æ–¥—Å—Ç–≤–æ –æ–ø–∏—Å–∞–Ω–∏–π (0.0-1.0)

–†–µ–∑—É–ª—å—Ç–∞—Ç: score ‚àà [0.0, 1.0]
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –õ–æ–≥–∏–∫–∏

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ò–¥–µ–∞–ª—å–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ (Happy Path)

```
Alice: offer "–≤–µ–ª–æ—Å–∏–ø–µ–¥" (–∫–∞—Ç–µ–≥–æ—Ä–∏—è: —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç, –º–µ—Å—Ç–æ: –ê–ª–º–∞—Ç—ã)
Alice: want "–∫–Ω–∏–≥–∞" (–∫–∞—Ç–µ–≥–æ—Ä–∏—è: –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ, –º–µ—Å—Ç–æ: –ê–ª–º–∞—Ç—ã)

Bob: offer "–∫–Ω–∏–≥–∞" (–∫–∞—Ç–µ–≥–æ—Ä–∏—è: –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ, –º–µ—Å—Ç–æ: –ê–ª–º–∞—Ç—ã)
Bob: want "–≤–µ–ª–æ—Å–∏–ø–µ–¥" (–∫–∞—Ç–µ–≥–æ—Ä–∏—è: —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç, –º–µ—Å—Ç–æ: –ê–ª–º–∞—Ç—ã)

–ü–†–û–í–ï–†–ö–ê:
‚úÖ Alice want ("–∫–Ω–∏–≥–∞") —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å Bob offer ("–∫–Ω–∏–≥–∞")? –î–ê
‚úÖ Bob want ("–≤–µ–ª–æ—Å–∏–ø–µ–¥") —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å Alice offer ("–≤–µ–ª–æ—Å–∏–ø–µ–¥")? –î–ê
‚úÖ –î–í–£–°–¢–û–†–û–ù–ù–ò–ô Match —Å–æ–∑–¥–∞–µ—Ç—Å—è!
‚úÖ Score: 1.0 (100% —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ)
‚úÖ –û–±–∞ –ø–æ–ª—É—á–∞—é—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –û–¥–Ω–æ—Å—Ç–æ—Ä–æ–Ω–Ω–µ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ (–ù–ï–¢ Match)

```
Alice: offer "–≤–µ–ª–æ—Å–∏–ø–µ–¥"
Alice: want "–∫–Ω–∏–≥–∞"

Bob: offer "–≤–µ–ª–æ—Å–∏–ø–µ–¥"
Bob: want "–∞–≤—Ç–æ–º–æ–±–∏–ª—å" (–ù–ï —Å–æ–≤–ø–∞–¥–∞–µ—Ç!)

–ü–†–û–í–ï–†–ö–ê:
‚úÖ Alice want ("–∫–Ω–∏–≥–∞") —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å Bob offer ("–≤–µ–ª–æ—Å–∏–ø–µ–¥")? –ù–ï–¢
‚ùå –£—Å–ª–æ–≤–∏–µ –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ - Match –ù–ï —Å–æ–∑–¥–∞–µ—Ç—Å—è!
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ß–∞—Å—Ç–∏—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ

```
Alice: offer "–≤–µ–ª–æ—Å–∏–ø–µ–¥" (–ê–ª–º–∞—Ç—ã)
Alice: want "–∫–Ω–∏–≥–∞" (–ê–ª–º–∞—Ç—ã)

Bob: offer "–∫–Ω–∏–≥–∞" (–ê–ª–º–∞—Ç—ã)
Bob: want "–≤–µ–ª–æ—Å–∏–ø–µ–¥" (–ê—Å—Ç–∞–Ω–∞ - –¥—Ä—É–≥–æ–π –≥–æ—Ä–æ–¥!)

–ü–†–û–í–ï–†–ö–ê:
‚úÖ Alice want —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å Bob offer? –î–ê
‚úÖ Bob want —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å Alice offer? –î–ê (–Ω–æ –≥–æ—Ä–æ–¥–∞ —Ä–∞–∑–Ω—ã–µ)
‚úÖ Match —Å–æ–∑–¥–∞–µ—Ç—Å—è, –Ω–æ score < 1.0 (—à—Ç—Ä–∞—Ñ –∑–∞ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ)
‚ö†Ô∏è  Score: 0.7 (–∏–∑-–∑–∞ —Ä–∞–∑–Ω—ã—Ö –º–µ—Å—Ç)
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 4: –ü—Ä–∏–Ω—è—Ç–∏–µ/–û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ

```
1. Match —Å–æ–∑–¥–∞–Ω (status: new, –¥–≤—É—Å—Ç–æ—Ä–æ–Ω–Ω–∏–π)
2. Alice –ø—Ä–∏–Ω–∏–º–∞–µ—Ç ‚Üí status: accepted_a
3. Bob –æ—Ç–∫–ª–æ–Ω—è–µ—Ç ‚Üí status: rejected
4. –¢—Ä–∞–Ω–∑–∞–∫—Ü–∏—è –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∞

–û–ñ–ò–î–ê–ù–ò–ï:
‚úÖ Status –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–æ
‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤–µ—Ä–Ω–æ
‚úÖ –†–µ–π—Ç–∏–Ω–≥ –ù–ï –≤—ã—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–∏
```

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–∏–∫–∏ (–±–µ–∑ Frontend)

### –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Swagger UI

```
http://localhost:8000/docs

–¢–∞–º –º–æ–∂–Ω–æ:
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
- –í–∏–¥–µ—Ç—å —Å—Ö–µ–º—ã –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–æ–≤–µ—Ä—è—Ç—å –æ—Ç–≤–µ—Ç—ã
```

### –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ PostMan/Insomnia

–ò–º–ø–æ—Ä—Ç–∏—Ä—É–π—Ç–µ –∫–æ–ª–ª–µ–∫—Ü–∏—é —Å –ø—Ä–∏–º–µ—Ä–∞–º–∏ –≤—ã—à–µ.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ (–¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

```
backend/
‚îú‚îÄ‚îÄ api/
‚îÇ   ‚îú‚îÄ‚îÄ endpoints/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ health.py       ‚Üê –ü—Ä–æ–≤–µ—Ä–∫–∞ –∂–∏–≤–æ—Å—Ç–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ market_listings.py ‚Üê –ì–ª–∞–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ notifications.py    ‚Üê –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ router.py           ‚Üê –ö–æ–º–±–∏–Ω–∏—Ä—É–µ—Ç –≤—Å–µ
‚îú‚îÄ‚îÄ config.py               ‚Üê –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç—É—Ç
‚îú‚îÄ‚îÄ main.py                 ‚Üê –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞ (50 —Å—Ç—Ä–æ–∫)
‚îú‚îÄ‚îÄ models.py               ‚Üê –ë–î –º–æ–¥–µ–ª–∏
‚îú‚îÄ‚îÄ schemas.py              ‚Üê Pydantic –≤–∞–ª–∏–¥–∞—Ü–∏—è
‚îú‚îÄ‚îÄ crud.py                 ‚Üê CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
‚îú‚îÄ‚îÄ matching.py             ‚Üê –õ–æ–≥–∏–∫–∞ –ø–æ–¥–±–æ—Ä–∞
‚îú‚îÄ‚îÄ database.py             ‚Üê –ë–î –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
‚îî‚îÄ‚îÄ quick_test.py           ‚Üê –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã

src/
‚îú‚îÄ‚îÄ components/             ‚Üê React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ pages/                  ‚Üê React —Å—Ç—Ä–∞–Ω–∏—Ü—ã
‚îú‚îÄ‚îÄ services/               ‚Üê API –∑–∞–ø—Ä–æ—Å—ã
‚îú‚îÄ‚îÄ styles/                 ‚Üê CSS
‚îî‚îÄ‚îÄ App.jsx                 ‚Üê –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
```

---

## ‚úÖ –ß–µ–∫-–ª–∏—Å—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–æ–≥–∏–∫–∏

- [ ] **User Registration**
  - [ ] –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç—Å—è —Å —É–Ω–∏–∫–∞–ª—å–Ω—ã–º username
  - [ ] –°–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∫–æ–Ω—Ç–∞–∫—Ç (—Ç–µ–ª–µ–≥—Ä–∞–º)
  - [ ] –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è user_id

- [ ] **Listing Creation**
  - [ ] offer –æ–±—ä—è–≤–ª–µ–Ω–∏–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è (type: offers)
  - [ ] want –æ–±—ä—è–≤–ª–µ–Ω–∏–µ —Å–æ–∑–¥–∞–µ—Ç—Å—è (type: wants)
  - [ ] –ó–∞–ø–æ–ª–Ω—è—é—Ç—Å—è –≤—Å–µ –ø–æ–ª—è (title, description, category, location)
  - [ ] –°–≤—è–∑—ã–≤–∞–µ—Ç—Å—è —Å user_id

- [ ] **Matching Logic (–î–í–£–°–¢–û–†–û–ù–ù–ò–ô)**
  - [ ] ‚úÖ Match —Å–æ–∑–¥–∞–µ—Ç—Å—è –¢–û–õ–¨–ö–û –µ—Å–ª–∏:
    - [ ] want –æ—Ç Alice —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å offer Bob
    - [ ] AND want –æ—Ç Bob —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å offer Alice
  - [ ] ‚ùå Match –ù–ï —Å–æ–∑–¥–∞–µ—Ç—Å—è –µ—Å–ª–∏ —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ —Å—Ç–æ—Ä–æ–Ω–∞ —Å–æ–≤–ø–∞–¥–∞–µ—Ç
  - [ ] Score —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ (0.0-1.0)
  - [ ] –£—á–∏—Ç—ã–≤–∞—é—Ç—Å—è: –∫–∞—Ç–µ–≥–æ—Ä–∏—è, –º–µ—Å—Ç–æ, –æ–ø–∏—Å–∞–Ω–∏–µ
  - [ ] –®—Ç—Ä–∞—Ñ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –∑–∞ —Ä–∞–∑–Ω—ã–µ –º–µ—Å—Ç–∞

- [ ] **Notifications**
  - [ ] –û–±–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ–ª—É—á–∞—é—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
  - [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–Ω—Ç–∞–∫—Ç –ø–∞—Ä—Ç–Ω–µ—Ä–∞
  - [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–ø–∏—Å—ã–≤–∞–µ—Ç —á—Ç–æ –ø–æ–ª—É—á–∞—Ç –æ–±–∞

- [ ] **Status Transitions**
  - [ ] new ‚Üí accepted_a (–æ–¥–∏–Ω –ø—Ä–∏–Ω—è–ª)
  - [ ] accepted_a ‚Üí matched (–æ–±–∞ –ø—Ä–∏–Ω—è–ª–∏)
  - [ ] –û—Ç–∫–ª–æ–Ω–µ–Ω–∏–µ –æ—Ç–º–µ–Ω—è–µ—Ç –ø—Ä–æ—Ü–µ—Å—Å
  - [ ] –ü—Ä–∏ –æ—Ç–∫–ª–æ–Ω–µ–Ω–∏–∏ —Ä–µ–π—Ç–∏–Ω–≥ –ù–ï –≤—ã—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è

---

## üìù –ö–æ–¥–æ–≤—ã–µ —Ñ–∞–π–ª—ã –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è (–ª–æ–≥–∏–∫–∞)

1. **matching.py** - –ö–∞–∫ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ—Ç—Å—è score
2. **crud.py** - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–ø–∏—Å–µ–π –≤ –ë–î
3. **models.py** - –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ç–∞–±–ª–∏—Ü
4. **api/endpoints/market_listings.py** - API –ª–æ–≥–∏–∫–∞

---

## üêõ –î–µ–±–∞–≥-—Å–æ–≤–µ—Ç—ã

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ Backend:
```bash
# –° —Ñ–ª–∞–≥–æ–º --reload –≤–∏–¥–Ω—ã –≤—Å–µ –æ—à–∏–±–∫–∏
python -m uvicorn main:app --reload --port 8000
```

### –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —á—Ç–æ –≤ –ë–î:
```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ PostgreSQL
psql -U assistadmin_pg -d assistance_kz

# SQL –∑–∞–ø—Ä–æ—Å—ã:
SELECT * FROM users;
SELECT * FROM market_listings;
SELECT * FROM matches;
SELECT * FROM notifications;
```

### –°–±—Ä–æ—Å–∏—Ç—å –ë–î:
```bash
# –í–ù–ò–ú–ê–ù–ò–ï: —ç—Ç–æ —É–¥–∞–ª–∏—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ!
DROP TABLE IF EXISTS notifications CASCADE;
DROP TABLE IF EXISTS matches CASCADE;
DROP TABLE IF EXISTS market_listings CASCADE;
DROP TABLE IF EXISTS users CASCADE;

# –ü–æ—Ç–æ–º –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å API
```

---

## üéØ –§–∏–Ω–∞–ª—å–Ω—ã–π Workflow –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ª–æ–≥–∏–∫–∏

```bash
# 1. –°—Ç—Ä—É–∫—Ç—É—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
python backend/quick_test.py

# 2. –ó–∞–ø—É—Å—Ç–∏—Ç—å Backend
python -m uvicorn backend.main:app --reload --port 8000

# 3. –í –Ω–æ–≤–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ - –∑–∞–ø—É—Å—Ç–∏—Ç—å Frontend (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
cd src && npm run dev

# 4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —á–µ—Ä–µ–∑ Swagger UI
# –û—Ç–∫—Ä—ã—Ç—å http://localhost:8000/docs

# 5. –ò–ª–∏ —á–µ—Ä–µ–∑ curl (–ø—Ä–∏–º–µ—Ä—ã –≤—ã—à–µ)
```

---

**–í—Å–µ –≥–æ—Ç–æ–≤–æ –∫ –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ –∏ –ø—Ä–æ–≤–µ—Ä–∫–µ –ª–æ–≥–∏–∫–∏! üöÄ**
